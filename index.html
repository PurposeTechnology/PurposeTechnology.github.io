#!/bin/bash
################################################################################
#                           reconfigurationScript                              #
#                                                                              #
# This script is suppose to be uploaded and used with internet connection.     #
# The remote user of this script is supposed to use terminal emulator.         #
# To access the script and run it.                                             #
#                                                                              #
#   I Recommend the GET command alias of lwp-request command                   #
#   and the most popular command-line interpreter Bash.                        #
#                                                                              #
#    GET https://example.org/reconfgurationScript.bash | bash                  #
#                                                                              #
#    However the same results can be achieved with                             #
#    other command-line tools like curl and wget                               #
#                                                                              #
#                                                                              #
#                                  NOTES                                       #
#                                                                              #
#                                                                              #
#                                                                              #
#                                                                              #
################################################################################

function installExtension(){
	declare extensionUUID=$1;
	declare server="https://extensions.gnome.org/download-extension";
	declare version="?shell_version=9.99.9";
	declare url="$server/$extensionUUID.shell-extension.zip$version";
	wget "$url";

	declare download_filename=$(basename "$url");
	gnome-extensions install "$download_filename";
	gnome-extensions enable "$download_filename";

	rm "$filename";
	
}


function main(){

# Dash to Dock
installExtension "dash-to-panel@jderose9.github.com";

declare dash_to_panel_schemas="$HOME/.local/share/gnome-shell/extensions/dash-to-panel@jderose9.github.com/schemas"
gsettings --schemadir "$dash_to_panel_schemas" set org.gnome.shell.extensions.dash-to-panel panel-size 46;
gsettings --schemadir "$dash_to_panel_schemas" set org.gnome.shell.extensions.dash-to-panel appicon-padding 5;
gsettings --schemadir "$dash_to_panel_schemas" set org.gnome.shell.extensions.dash-to-panel window-preview-size 150;

# Desktop Icons NG
installExtension "ding@rastersoft.com";

declare desktop_icons_ng_schemas="$HOME/.local/share/gnome-shell/extensions/ding@rastersoft.com/schemas";
gsettings --schemadir "$desktop_icons_ng_schemas" set org.gnome.shell.extensions.ding icon-size "small";




mkdir "$HOME/.config/reconfiguration";
echo "" > "$HOME/.config/reconfiguration/reconfigurationHasBeenDoneBefore";
}
main;
